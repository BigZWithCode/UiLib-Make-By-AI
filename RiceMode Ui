-- Tạo UI Library
local Library = {}

function Library:CreateWindow(title)
    local ScreenGui = Instance.new("ScreenGui")
    local Frame = Instance.new("Frame")
    local TitleLabel = Instance.new("TextLabel")
    local TabContainer = Instance.new("Frame")
    local TabButtons = Instance.new("Frame")
    local UIListLayout = Instance.new("UIListLayout")

    ScreenGui.Name = title
    ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

    Frame.Name = "MainFrame"
    Frame.Size = UDim2.new(0, 500, 0, 400)
    Frame.Position = UDim2.new(0.5, -250, 0.5, -200)
    Frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    Frame.Parent = ScreenGui

    TitleLabel.Text = title
    TitleLabel.Size = UDim2.new(1, 0, 0, 40)
    TitleLabel.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    TitleLabel.TextColor3 = Color3.new(1, 1, 1)
    TitleLabel.Parent = Frame

    TabButtons.Name = "TabButtons"
    TabButtons.Size = UDim2.new(0, 120, 1, -40)
    TabButtons.Position = UDim2.new(0, 0, 0, 40)
    TabButtons.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    TabButtons.Parent = Frame

    UIListLayout.Parent = TabButtons
    UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder

    TabContainer.Name = "TabContainer"
    TabContainer.Size = UDim2.new(1, -120, 1, -40)
    TabContainer.Position = UDim2.new(0, 120, 0, 40)
    TabContainer.BackgroundTransparency = 1
    TabContainer.Parent = Frame

    return {Frame = Frame, Tabs = {}, TabButtons = TabButtons, TabContainer = TabContainer}
end

function Library:CreateTab(window, tabName)
    local TabButton = Instance.new("TextButton")
    local TabContent = Instance.new("Frame")

    -- Tạo nút tab
    TabButton.Text = tabName
    TabButton.Size = UDim2.new(1, 0, 0, 40)
    TabButton.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    TabButton.TextColor3 = Color3.new(1, 1, 1)
    TabButton.Parent = window.TabButtons

    -- Tạo nội dung tab
    TabContent.Name = tabName
    TabContent.Size = UDim2.new(1, 0, 1, 0)
    TabContent.BackgroundTransparency = 1
    TabContent.Visible = false
    TabContent.Parent = window.TabContainer

    -- Thêm cơ chế chuyển đổi tab
    TabButton.MouseButton1Click:Connect(function()
        for _, tab in pairs(window.Tabs) do
            tab.Content.Visible = false
        end
        TabContent.Visible = true
    end)

    table.insert(window.Tabs, {Button = TabButton, Content = TabContent})
    return TabContent
end

function Library:CreateCheckbox(parent, label)
    local CheckboxFrame = Instance.new("Frame")
    local Checkbox = Instance.new("TextButton")
    local Label = Instance.new("TextLabel")

    CheckboxFrame.Size = UDim2.new(1, 0, 0, 30)
    CheckboxFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    CheckboxFrame.Parent = parent

    Checkbox.Size = UDim2.new(0, 20, 0, 20)
    Checkbox.Position = UDim2.new(0, 5, 0.5, -10)
    Checkbox.Text = ""
    Checkbox.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    Checkbox.Parent = CheckboxFrame

    Label.Text = label
    Label.Position = UDim2.new(0, 30, 0, 0)
    Label.Size = UDim2.new(1, -30, 1, 0)
    Label.TextColor3 = Color3.new(1, 1, 1)
    Label.BackgroundTransparency = 1
    Label.Parent = CheckboxFrame

    Checkbox.MouseButton1Click:Connect(function()
        Checkbox.BackgroundColor3 = Checkbox.BackgroundColor3 == Color3.fromRGB(20, 20, 20) and Color3.fromRGB(0, 255, 0) or Color3.fromRGB(20, 20, 20)
    end)
end

return Library
